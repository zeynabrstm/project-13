(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1484],{21094:function(e,t,o){"use strict";o.d(t,{V:function(){return k}});var a=o(828),s=o(85893),l=o(67294),r=o(73286),i=o(62165),n=o(79756),c=o(42687),d=o(19122),u=o(72733),h=o(10171),p=o(64854),v=o(49301),m=o(27018),f=o(57258),_=function(e){var t=e.url;return"https://www.facebook.com/sharer.php?u=".concat(t)},w=function(e){var t=e.url,o=e.title,a=e.hashtags,s=void 0===a?"digikala":a;return"https://twitter.com/intent/tweet?url=".concat(t,"&text=").concat(o,"&hashtags=").concat(s)},b=function(e){var t=e.title,o=e.url;return"https://api.whatsapp.com/send?text=".concat(t,"&").concat(o)},g=function(e){e.title;var t=e.url;return"sms:body=".concat(t)};var x=(0,o(69779).q)({url:"digiclub/referral/get-voucher/",transformer:function(e){var t,o=e.data;return(0,r.objectModerator)({voucherCode:null===o||void 0===o||null===(t=o.voucher)||void 0===t?void 0:t.code})}}),j=o(32172),M=o.n(j);function k(e){var t=e.showModal,o=e.onClose,j=e.shareUrls,k=e.hasDiscountCode,N=void 0===k||k,z=e.shareMessage,y=void 0===z?"\u0627\u06cc\u0646 \u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0627 \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f!":z,C=(0,m.e)().redirect,U=(0,n.useSelector)(c.p.isLoggedIn),L=(0,l.useState)(""),S=L[0],P=L[1],B=(0,l.useState)(""),J=B[0],T=B[1],D=(0,a.Z)((0,u.m)(),2),I=D[0],E=D[1],F=(0,a.Z)((0,u.m)(),2),O=F[0],A=F[1],R=(0,d.C)().isDesktop,W=(0,l.useState)(!1),q=W[0],H=W[1],V=(0,f.V)({apiMethod:x,disabled:!(U&&q)}),Z=V.data,K=V.pending,Q=null===Z||void 0===Z?void 0:Z.voucherCode;(0,l.useEffect)((function(){P((null===j||void 0===j?void 0:j.shareUrl)||window.location.href)}),[]),(0,l.useEffect)((function(){if(T(S),Q){var e="\n        \u0633\u0644\u0627\u0645. \u0645\u0646 \u062e\u0631\u06cc\u062f \u0627\u06cc\u0646 \u0645\u062d\u0635\u0648\u0644 \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc\u200c\u06a9\u0646\u0645. \u0627\u06af\u0631 \u0627\u0648\u0644\u06cc\u0646 \u0628\u0627\u0631 \u0627\u0633\u062a \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u062e\u0631\u06cc\u062f \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f ".concat(Q,"\n        ").concat(S,"\n      ");T(e)}}),[Q,S]);var X={copyBtnClass:(0,r.classnames)("text-button-2 color-900 w-full py-3",M()["shareModal__button--copyBtn"]),twitter:(0,r.classnames)("text-button-1 color-000 w-full pointer",M()["shareModal__button--twitter"]),whatsapp:(0,r.classnames)("text-button-1 color-000 w-full pointer",M()["shareModal__button--whatsapp"]),facebook:(0,r.classnames)("text-button-1 color-000 w-full pointer",M()["shareModal__button--facebook"])};return(0,s.jsx)(p.u,{isOpen:t,onDismiss:o,headerTitle:"\u0627\u0634\u062a\u0631\u0627\u06a9\u200c\u06af\u0630\u0627\u0631\u06cc",hasHeaderBottomShadow:!1,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:(0,r.classnames)("pb-4",{"border-b-200":N}),children:[(0,s.jsx)("p",{className:"text-body-1",children:y}),(0,s.jsx)("div",{className:"d-grid col-auto gap-4 mt-4",children:(0,s.jsxs)(h.z,{mode:"outlined",color:"black",className:X.copyBtnClass,onClick:function(){return E((null===j||void 0===j?void 0:j.shareUrl)||(null===window||void 0===window?void 0:window.location.href))},children:[(0,s.jsx)(i.J,{icon:"copy",size:20,className:"ml-2"}),I||"\u06a9\u067e\u06cc \u06a9\u0631\u062f\u0646 \u0644\u06cc\u0646\u06a9"]})}),(0,s.jsxs)("div",{className:"d-grid grid-cols-2 grid-rows-2 gap-4 mt-4",children:[(0,s.jsxs)(h.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===j||void 0===j?void 0:j.shareWhatsappUrl)||b({title:J,url:S}),className:X.whatsapp,children:[(0,s.jsx)(i.J,{icon:"whatsapp",size:24,color:"white",className:"ml-2"}),"\u0648\u0627\u062a\u0633\u200c\u0627\u067e"]}),(0,s.jsxs)(h.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===j||void 0===j?void 0:j.shareTwitterUrl)||w({url:S,title:J}),className:X.twitter,children:[(0,s.jsx)(i.J,{icon:"twitter",size:24,color:"white",className:"ml-2"}),"\u062a\u0648\u06cc\u06cc\u062a\u0631"]}),(0,s.jsxs)(h.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===j||void 0===j?void 0:j.shareFacebookUrl)||_({url:S}),className:X.facebook,children:[(0,s.jsx)(i.J,{icon:"facebook",size:24,color:"white",className:"ml-2"}),"\u0641\u06cc\u0633\u0628\u0648\u06a9"]}),!R&&(0,s.jsxs)(h.z,{mode:"filled",color:"red",padding:!0,size:"large",to:g({title:J,url:S}),className:"text-button-1 color-000 w-full pointer",children:[(0,s.jsx)(i.J,{icon:"sms",size:24,color:"white",className:"ml-2"}),"\u067e\u06cc\u0627\u0645\u06a9"]})]})]}),!!N&&(0,s.jsxs)("div",{className:"pos-relative d-flex-lg jc-center ai-center mt-4",children:[(0,s.jsxs)("div",{className:"pos-relative z-4",children:[(0,s.jsx)("p",{className:"text-button-2 color-800",children:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0634\u0645\u0627"}),(0,s.jsxs)("p",{className:(0,r.classnames)("text-body-2 color-800 mt-2",M().shareModal__voucherText),children:["\u06a9\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0641\u0631\u0633\u062a\u06cc\u062f \u0648 \u067e\u0633 \u0627\u0632",(0,s.jsx)("br",{}),"\u0627\u0648\u0644\u06cc\u0646 \u062e\u0631\u06cc\u062f \u0622\u0646\u0647\u0627\u060c \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0648 \u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u06af\u06cc\u0631\u06cc\u062f!"]}),Q?(0,s.jsxs)(h.z,{mode:"outlined",color:"gray",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){return A(Q)},children:[(0,s.jsx)(i.J,{icon:"copy",width:20,height:20,className:"ml-2"}),O||Q]}):(0,s.jsxs)(h.z,{mode:"outlined",color:"red",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){U?U&&!Q&&H(!0):C({toLoginRegisterRoute:!0,withBackUrl:!0})},isLoading:K,children:[(0,s.jsx)(i.J,{icon:"voucher",size:24,color:"primary",className:"ml-2"}),"\u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"]})]}),(0,s.jsx)("div",{className:"pos-absolute left-0 top-0 d-flex jc-end d-block-lg pos-relative-lg z-0",children:(0,s.jsx)(v.E,{src:"/statics/img/svg/share-modal.svg",width:"151",height:"162",alt:"\u0627\u0634\u062a\u0631\u0627\u06a9"})})]})]})})}},63617:function(e,t,o){"use strict";o.d(t,{r:function(){return s}});var a=o(41140);function s(e){var t,o,s,l,r=e.data||{},i=r.public_list_url,n=r.invitation_link,c=r.social_media,d=r.twitter,u=r.whatsapp,h=r.telegram,p=r.facebook;return{shareUrl:(0,a.f)({data:i||n}),shareTwitterUrl:(0,a.f)({data:(null===c||void 0===c||null===(t=c.twitter)||void 0===t?void 0:t.url)||d}),shareWhatsappUrl:(0,a.f)({data:(null===c||void 0===c||null===(o=c.whatsapp)||void 0===o?void 0:o.url)||u}),shareTelegramUrl:(0,a.f)({data:(null===c||void 0===c||null===(s=c.telegram)||void 0===s?void 0:s.url)||h}),shareFacebookUrl:(0,a.f)({data:(null===c||void 0===c||null===(l=c.facebook)||void 0===l?void 0:l.url)||p})}}},42528:function(e,t,o){"use strict";function a(e){var t=e.component,o=e.getAPIMethods,a=e.layoutProps,s=e.isPrivate,l=e.noDefaultLoader,r=e.pageActivatorFeature,i=e.redirectIfLogin,n=e.afterLogin,c=e.disableSSR,d=e.dataProps;return t.getAPIMethods=o,t.layoutProps=a,t.isPrivate=s,t.noDefaultLoader=l,t.pageActivatorFeature=r,t.redirectIfLogin=i,t.afterLogin=n,t.disableSSR=c,t.dataProps=d,t}o.d(t,{D:function(){return a}})},32172:function(e){e.exports={"shareModal__button--whatsapp":"shareModal_shareModal__button--whatsapp__kK37f","shareModal__button--twitter":"shareModal_shareModal__button--twitter__OuLFb","shareModal__button--facebook":"shareModal_shareModal__button--facebook__hQI05","shareModal__button--copyBtn":"shareModal_shareModal__button--copyBtn__XrL65",shareModal__voucherText:"shareModal_shareModal__voucherText__WqseH"}}}]);
