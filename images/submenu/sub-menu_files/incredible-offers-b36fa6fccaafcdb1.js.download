(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{12038:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/incredible-offers",function(){return r(60460)}])},60460:function(e,t,r){"use strict";r.r(t),r.d(t,{__getServerSideProps:function(){return M},default:function(){return k}});r(67294);var n=r(47487),i=r(26042),a=r(69396),o=r(85893),d=r(50518),s=r(69779),c=r(78986),u=(0,s.q)({url:"/incredible-offers/products/",transformer:c.k}),l=r(14924),f=r(74222),p=r(73286),v=r(86172),g=r(29429);var m=(0,s.q)({url:"/incredible-offers/",transformer:function(e){var t,r,n=e.data;return(0,p.objectModerator)({incredibleOffersCategories:null===n||void 0===n||null===(t=n.categories)||void 0===t||null===(r=t.map)||void 0===r?void 0:r.call(t,(function(e){return(0,g.n)({data:e})})),incredibleOffersDigiplusIncredibleProducts:(0,v.$)({data:null===n||void 0===n?void 0:n.digiplus_incredible_products}),incredibleOffersFreshOffersProducts:(0,v.$)({data:null===n||void 0===n?void 0:n.fresh_incredible_products}),incredibleOffersIncredibleProducts:(0,c.k)({data:null===n||void 0===n?void 0:n.incredible_products_list}),incredibleOffersLightningDealProducts:(0,v.$)({data:null===n||void 0===n?void 0:n.lightening_deal_products}),incredibleOffersRunningOutIncredibleProducts:(0,v.$)({data:null===n||void 0===n?void 0:n.running_out_incredible_products}),incredibleOffersSelectedIncredibleProducts:(0,v.$)({data:null===n||void 0===n?void 0:n.selected_incredible_products})})},inputTransformer:function(e){var t=e[f.Tx.CATEGORY_ID];return(0,p.cleanObject)((0,l.Z)({},f.Tx.CATEGORY_ID,t))},isPageGetRequest:!0}),b=r(60046),h=r(39090),P=r(72611),O=r(27278),_=r(19823),x=r(42688),S=r(92981),N=r(95123),I=r(51867),D=r(42528),E=r(71270),C=r(20975),j=r(51605);function y(e){return(0,o.jsx)(N._,(0,i.Z)({canShowSoldPercentage:!0},e))}var Z=(0,D.D)({component:function e(t){var r=t.ssrData,n=(0,d.L)({getSSRMethods:e.getAPIMethods,ssrData:r}),s=n.data,c=n.pending,u=s||{},l=u.incredibleOffersSelectedIncredibleProducts,f=u.incredibleOffersDigiplusIncredibleProducts,v=u.incredibleOffersRunningOutIncredibleProducts,g=u.incredibleOffersLightningDealProducts,m=u.incredibleOffersFreshOffersProducts,N=u.incredibleOffersCategories,D=(0,E.et)(),j=D.data,Z=D.fetchNextPage,k=D.hasNextPage,M=D.items,R=D.pending,T=D.params,w=D.fetchPage,A=D.pageNumber,F=D.changeParams;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{isStatic:!0,isDesktopStatic:!0,children:(0,o.jsx)(h.e,(0,i.Z)({pending:c,categories:N},l))}),(0,o.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[!(0,p.isEmpty)(null===v||void 0===v?void 0:v.products)&&(0,o.jsx)(P.O,(0,a.Z)((0,i.Z)({pending:c,productsTitleIcon:"comingSoon"},v),{bigDataCarouselName:I.ke,productCardProps:{canShowSoldPercentage:!0},className:"mt-6"})),!(0,p.isEmpty)(null===m||void 0===m?void 0:m.products)&&(0,o.jsx)(_.q,(0,i.Z)({className:"mt-6",mode:"fresh"},m))]}),!(0,p.isEmpty)(null===f||void 0===f?void 0:f.products)&&(0,o.jsx)(x.J,(0,i.Z)({pending:c,className:"mt-6",colorSet:"plus",typoType:"plus",productsTitle:"\u0634\u06af\u0641\u062a\u200c\u0627\u0646\u06af\u06cc\u0632 \u067e\u0644\u0627\u0633",link:null===f||void 0===f?void 0:f.productsSeeMoreUrl},f)),!(0,p.isEmpty)(null===g||void 0===g?void 0:g.products)&&(0,o.jsx)(P.O,(0,a.Z)((0,i.Z)({pending:c,className:"mt-6",hasTitleLine:!1},g),{hasProductsContainer:!1,bigDataCarouselName:I.A1,productsTitleIcon:"specialAmazing",productsTitleIconColor:(0,S.$)("color-ad"),titleClassName:"text-body1-strong pt-1"})),(0,o.jsxs)("div",{className:"px-4 container-4xl-w mx-auto mt-5",children:[(0,o.jsx)(O.Z,{label:"\u0647\u0645\u0647 \u0634\u06af\u0641\u062a\u200c\u0627\u0646\u06af\u06cc\u0632\u200c\u0647\u0627",titleClassName:"mt-0 text-h5"}),(0,o.jsx)(C.c,{pages:M,fetchNextPage:Z,fetchPage:w,pageNumber:A,hasNextPage:k,pending:R,changeParams:F,data:j,params:T,shouldHideDesktopSidebar:!0,disableClassicPagination:!0,itemComponent:y})]})]})},getAPIMethods:function(e){var t=e.query;return[{apiMethod:m,apiData:t}]},dataProps:{apiMethod:u,apiData:function(e){return e},disabled:!1,shouldUseLocation:!1,onSuccess:function(e){e.mutateItem,e.mutateItems;var t=e.params,r=e.response;(0,j.e)({params:t,response:r,identifier:function(e){return{pageName:I.fc}}})}},layoutProps:{desktopFullWidth:!0,chatKey:"incredible-offers"}}),k=Z,M=(0,n.I)({getSSRMethods:Z.getAPIMethods,queryProps:Z.dataProps})},57258:function(e,t,r){"use strict";r.d(t,{V:function(){return u}});var n=r(29815),i=r(8100),a=r(11163),o=r(67294),d=r(61740),s=r(73286);function c(e){return function(t,r,n){var i=(0,o.useRef)(),a=e(t,r,n);(0,o.useEffect)((function(){void 0!==a.data&&(i.current=a.data)}),[a.data]);var d=(0,o.useCallback)((function(){i.current=void 0}),[]),s=void 0===a.data?i.current:a.data,c=void 0===a.data&&void 0!==i.current;return Object.assign({},a,{data:s,isLagging:c,resetLaggy:d})}}function u(e){var t=e.apiMethod,r=e.apiData,u=e.dependencies,l=e.onSuccess,f=void 0===l?function(){}:l,p=e.onError,v=void 0===p?function(){}:p,g=e.revalidateIfStale,m=void 0!==g&&g,b=e.revalidateOnMount,h=void 0===b||b,P=e.revalidateOnFocus,O=void 0!==P&&P,_=e.revalidateOnReconnect,x=void 0!==_&&_,S=e.disabled,N=e.initialValue,I=S?"disabled":null===t||void 0===t?void 0:t.url,D=((0,s.isFunction)(I)?I(r):I)+(0,s.stringifyUrlParams)(r),E=(0,a.useRouter)().isReady&&!S,C=(0,d.b6)(),j=(0,o.useState)(N||{})[0],y=function(){return t(r)},Z=(0,o.useMemo)((function(){return[D].concat((0,n.Z)(u||[]))}),[u,D]),k=(0,i.ZP)(E?Z:null,y,{onError:v,revalidateIfStale:m,revalidateOnMount:h,revalidateOnFocus:O,revalidateOnReconnect:x,fallbackData:j,use:[c],shouldRetryOnError:!1}),M=k.data,R=k.error,T=k.mutate,w=k.isValidating,A=!R&&!M&&!!D&&!S||w&&!S;return(0,o.useEffect)((function(){!C&&!M||A||null===f||void 0===f||f(M)}),[M,A]),{data:M,pending:A,hasError:!!R,reload:function(){return T(y)},setPageData:function(e){return T(e,!1)}}}t.Z=u}},function(e){e.O(0,[9774,9580,6917,7115,4211,7430,2971,4570,7068,8572,3779,4836,5382,3007,5418,187,4376,2688,9823,4143,518,2888,179],(function(){return t=12038,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
