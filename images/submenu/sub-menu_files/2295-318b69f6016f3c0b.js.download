(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2295],{10341:function(e,n,t){"use strict";t.d(n,{X:function(){return g}});var r=t(26042),o=t(69396),u=t(85893),i=t(67294),c=t(26441),s=t(99534),l=t(73286);function a(e,n){if(null!=e)if((0,l.isFunction)(e))e(n);else try{e.current=n}catch(t){throw new Error('Cannot assign value "'.concat(n,'" to ref "').concat(e,'"'))}}var f=t(88886),d=["bottom","height","left","right","top","width"];var v,m=new Map;function p(){var e=[];m.forEach((function(n,t){var r=t.getBoundingClientRect();(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.some((function(t){return e[t]!==n[t]}))})(r,n.rect)&&(n.rect=r,e.push(n))})),e.forEach((function(e){e.observers.forEach((function(n){return n(e.rect)}))})),v=window.requestAnimationFrame(p)}function h(e){return{subscribe:function(n){var t,r=m.size;m.has(e)?null===(t=m.get(e))||void 0===t||t.observers.push(n):m.set(e,{rect:void 0,observers:[n]});return 0===r&&p(),{unsubscribe:function(){var t=m.get(e);t&&(t.observers=t.observers.filter((function(e){return e!==n})),0===t.observers.length&&m.delete(e),0===m.size&&cancelAnimationFrame(v))}}}}}function x(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,i.useState)(e.current),r=t[0],o=t[1],u=(0,i.useRef)(!1),c=(0,i.useRef)(!1),s=(0,i.useState)(null),l=s[0],a=s[1];return(0,i.useLayoutEffect)((function(){e.current!==r&&o(e.current)}),[e,r]),(0,i.useLayoutEffect)((function(){var t=function(){null===o||void 0===o||o()},o=null,u=r;return c.current||(c.current=!0,u=e.current),u?(n&&(o=h(u).subscribe(a).unsubscribe),t):(f.yG&&console.warn("no element to measure its rect"),t)}),[n,r,e]),(0,i.useLayoutEffect)((function(){r&&!u.current&&(u.current=!0,a(r.getBoundingClientRect()))}),[r]),l}function w(e,n,t,r){return t?e(n,t,r):{visibility:"d-none"}}var b=(0,i.forwardRef)((function(e,n){var t=e.targetRef,c=e.positionCalculator,f=e.className,d=e.isInModal,v=e.menuSetToRight,m=(0,s.Z)(e,["targetRef","positionCalculator","className","isInModal","menuSetToRight"]),p=(0,i.useRef)(null),h=x(p),b=x(t),g=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,i.useMemo)((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(n){a(n,e)}))}}),[n])}(p,n),I=(0,l.classnames)("p-2 z-3 pos-absolute",{"z-3":!d,"z-4":d},f);return(0,u.jsx)("div",(0,o.Z)((0,r.Z)({ref:g},m),{style:(0,r.Z)({},w(c,b,h,v),m.style),className:I}))})),g=(0,i.forwardRef)((function(e,n){return(0,u.jsx)(c.h,{elementType:"dk-popover",children:(0,u.jsx)(b,(0,o.Z)((0,r.Z)({},e),{ref:n}))})}))},76974:function(e,n,t){"use strict";t.d(n,{i:function(){return s}});var r=t(26042),o=t(55346);function u(e,n){var t={top:e.top-n.height<0,bottom:window.innerHeight<e.bottom+n.height,right:window.innerWidth<e.left+n.width,left:e.left+e.width-n.width<0};return{right:t.right&&!t.left,left:t.left&&!t.right,bottom:t.bottom&&!t.top,top:t.top&&!t.bottom}}function i(e,n){var t=u(e,n).bottom;return{top:"".concat(t?e.top-n.height+window.pageYOffset:e.top+e.height+window.pageYOffset,"px")}}function c(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(e,n).right;return{left:"".concat(r||t?e.right-n.width+window.pageXOffset:e.left+window.pageXOffset,"px")}}function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.k)(e)||(0,o.k)(n)?{}:(0,r.Z)({},c(e,n,t),i(e,n))}},32295:function(e,n,t){"use strict";t.d(n,{gi:function(){return A},Ej:function(){return k},i4:function(){return T},z:function(){return C},MT:function(){return y},bC:function(){return B}});var r=t(828),o=t(85893),u=t(67294),i=t(49725),c=t(88886),s=t(26042),l=t(69396),a=t(99534),f=t(29815),d=t(55346);var v=t(47464);function m(e){var n=e.context,t=e.children,r=e.items,c=e.setItems,v=(0,u.useCallback)((function(e){var n=e.element,t=e.index,r=(0,a.Z)(e,["element","index"]);n&&c((function(e){var o;if((0,d.k)(t))if(0===e.length)o=[(0,l.Z)((0,s.Z)({},r),{element:n,index:0})];else if(e.find((function(e){return e.element===n})))o=e;else{var u=e.findIndex((function(e){return!(!e.element||!n)&&(0,i.fQ)(e.element.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING)})),c=(0,l.Z)((0,s.Z)({},r),{element:n,index:u});o=-1===u?(0,f.Z)(e).concat([c]):(0,f.Z)(e.slice(0,u)).concat([c],(0,f.Z)(e.slice(u)))}else o=(0,f.Z)(e).concat([(0,l.Z)((0,s.Z)({},r),{element:n,index:t})]);return o.map((function(e,n){return(0,l.Z)((0,s.Z)({},e),{index:n})}))}))}),[]),m=(0,u.useCallback)((function(e){e&&c((function(n){return n.filter((function(n){return e!==n.element}))}))}),[]),p=(0,u.useMemo)((function(){return{items:r,setItem:v,removeItem:m}}),[r,v,m]);return(0,o.jsx)(n.Provider,{value:p,children:t})}function p(e,n,t){var r=(0,v.N)(),o=(0,u.useContext)(n),i=o.setItem,c=o.removeItem,a=o.items,d=null!==t&&void 0!==t?t:a.findIndex((function(n){return n.element===e.element})),m=function(e){var n=(0,u.useRef)(null);return(0,u.useEffect)((function(){n.current=e}),[e]),n.current}(a),p=a.some((function(e,n){var t;return e.element!==(null===m||void 0===m||null===(t=m[n])||void 0===t?void 0:t.element)}));return(0,u.useLayoutEffect)((function(){return e.element||r(),i((0,l.Z)((0,s.Z)({},e),{index:d})),function(){return c(e.element)}}),[r,d,i,p,c].concat((0,f.Z)(Object.values(e)))),d}var h=t(14924),x=t(73286);function w(e){var n=e.eventHandler,t=e.wrapFunction;return function(e){if(null===n||void 0===n||n(e),!e.defaultPrevented)return t(e)}}var b,g,I=t(32258),Z=t.n(I),y=(b="SelectorMenuItemContext",g={},(0,i.o8)(b,(0,s.Z)({items:[],setItem:i.ZT,removeItem:i.ZT},g)));function C(e){var n=e.onClick,t=e.disabled,r=e.hasHover,i=void 0===r||r,c=e.shouldAutoFocus,f=void 0===c||c,d=e.className,v=(0,a.Z)(e,["onClick","disabled","hasHover","shouldAutoFocus","className"]),m=(0,u.useRef)(null),b=(0,u.useContext)(T),g=b.focusedIndex,I=b.setFocusedIndex,C=(0,u.useContext)(T).setIsOpen,k=p({element:m.current,disabled:t},y),M=(0,x.classnames)("d-block px-5 py-2 w-full",(0,h.Z)({disabled:t},Z().SelectorMenuItem,i),d);(0,u.useLayoutEffect)((function(){var e;k===g&&f&&(null===(e=m.current)||void 0===e||e.focus())}),[k,g,f]);var S=t?void 0:w({eventHandler:n,wrapFunction:function(){C(!1)}});return(0,o.jsx)("button",(0,l.Z)((0,s.Z)({},v),{type:"button",onClick:S,ref:m,onFocus:function(){-1!==k&&I(k)},className:M}))}c.yG&&(C.displayName="SelectorMenuItem");var k=function(e){var n=(0,u.useContext)(T),t=n.isOpen,r=n.setIsOpen,i=n.SelectorMenuButtonRef,c=w({eventHandler:e.onMouseUp,wrapFunction:function(e){e.stopPropagation()}}),a=w({eventHandler:e.onClick,wrapFunction:function(){r(!t)}});return(0,o.jsx)("button",(0,l.Z)((0,s.Z)({},e),{type:"button",onMouseUp:c,onClick:a,ref:i}))};c.yG&&(k.displayName="SelectorMenuButton");var M=t(61740),S={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp"};function R(e,n){var t=(0,u.useContext)(e).items,r=n.callback,o=n.currentIndex,i=n.filter,c=n.itemKey,s=null!==o&&void 0!==o?o:-1;return function(e){var n;if(Object.keys(S).includes(e.key)){var u=i?t.filter(i):t;if(i&&(s=u.findIndex((function(e){return e.index===o}))),0!==u.length){e.preventDefault();var l={ArrowDown:function(){var e=u[(s+1)%u.length];r((0,d.k)(c)?e:e[c])},ArrowUp:function(){var e=u[(s+u.length-1)%u.length];r((0,d.k)(c)?e:e[c])}};null===(n=l[e.key])||void 0===n||n.call(l)}}}}var N=t(10341),E=t(76974),O=t(19122),j=t(2077),F=t(65171);function B(e){var n=e.hasCloseButtonInBottomSheet,t=void 0!==n&&n,r=e.id,i=(0,a.Z)(e,["hasCloseButtonInBottomSheet","id"]),c=(0,u.useContext)(T),f=c.SelectorMenuButtonRef,d=c.isOpen,v=c.focusedIndex,m=c.setFocusedIndex,p=c.setIsOpen,h=R(y,{currentIndex:v,filter:function(e){return!e.disabled},callback:function(e){m(e)},itemKey:"index"}),x=(0,u.useRef)(),w=(0,O.C)().isDesktop,b=function(){return p(!1)};(0,M.t$)({targetRef:x,handler:b});var g=(0,F.e)({isOpen:d}).zIndex;return d?w?(0,o.jsx)(N.X,(0,l.Z)((0,s.Z)({isInModal:i.isInModal,className:i.popoverClassName,onKeyDown:h,onMouseUp:function(e){e.stopPropagation()},positionCalculator:E.i,targetRef:f},i),{children:(0,o.jsx)("div",{ref:x,className:"py-2 d-flex flex-column bg-000 radius shadow-fab-button overflow-hidden focus:none",children:i.children})})):(0,o.jsx)(j.Z,(0,l.Z)((0,s.Z)((0,l.Z)((0,s.Z)({isOpen:d},i),{contentClassName:"py-2",onClose:b}),t&&{hasAppTopBar:!0,appTopBarLeftSideFirstIcon:"close",appTopBarLeftSideFirstIconOnClick:b}),{reactResizeDetectorProps:{refreshMode:"debounce",refreshRate:0},style:{zIndex:g},children:(0,o.jsx)("div",{id:r,ref:x,children:i.children})})):null}c.yG&&(B.displayName="SelectorMenuList");var T=(0,u.createContext)({isOpen:!1,setIsOpen:i.ZT,SelectorMenuButtonRef:{current:null},focusedIndex:0,setFocusedIndex:i.ZT});function A(e){var n=(0,u.useRef)(null),t=(0,u.useState)(!1),i=t[0],c=t[1],s=(0,r.Z)((0,u.useState)([]),2),l=s[0],a=s[1],f=(0,u.useState)(0),d=f[0],v=f[1],p=(0,u.useCallback)((function(){c(!1)}),[c]),h=(0,u.useCallback)((function(e){"Escape"===e.key&&p()}),[p]);return(0,u.useEffect)((function(){return i&&window.addEventListener("keydown",h),function(){i&&window.removeEventListener("keydown",h)}}),[i,p,h]),(0,o.jsx)(m,{context:y,items:l,setItems:a,children:(0,o.jsx)(T.Provider,{value:{isOpen:i,setIsOpen:c,SelectorMenuButtonRef:n,focusedIndex:d,setFocusedIndex:v},children:(0,o.jsx)("div",{children:e.children})})})}c.yG&&(A.displayName="SelectorMenu")},32258:function(e){e.exports={SelectorMenuItem:"SelectorMenuItem_SelectorMenuItem__V4N5o"}}}]);
